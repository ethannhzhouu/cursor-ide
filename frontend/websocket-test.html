<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Test</title>
</head>
<body>
    <h1>WebSocket Connection Test</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        
        function log(message) {
            console.log(message);
            output.innerHTML += `<p>${new Date().toISOString()}: ${message}</p>`;
        }
        
        log('Testing WebSocket connection...');
        
        // Test basic WebSocket connection
        const ws = new WebSocket('ws://localhost:3001/yjs');
        
        ws.onopen = () => {
            log('WebSocket connected successfully!');
        };
        
        ws.onmessage = (event) => {
            log(`WebSocket message: ${event.data}`);
        };
        
        ws.onerror = (error) => {
            log(`WebSocket error: ${error}`);
        };
        
        ws.onclose = (event) => {
            log(`WebSocket closed: code=${event.code}, reason=${event.reason}`);
        };
        
    </script>
</body>
</html>
